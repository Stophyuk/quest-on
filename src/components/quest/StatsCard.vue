<template>
  <div class="card p-4">
    <h3 class="text-neutral-800 text-lg font-semibold mb-4">í†µê³„</h3>
    
    <div class="space-y-4">
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <span class="text-2xl mr-3">ğŸ“Š</span>
          <div>
            <p class="text-neutral-800 font-medium">ì™„ë£Œìœ¨</p>
            <p class="text-neutral-600 text-sm">ì˜¤ëŠ˜</p>
          </div>
        </div>
        <span class="text-neutral-800 font-bold text-xl">{{ Math.round(completionRate) }}%</span>
      </div>

      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <span class="text-2xl mr-3">ğŸ¯</span>
          <div>
            <p class="text-neutral-800 font-medium">í™œì„± í€˜ìŠ¤íŠ¸</p>
            <p class="text-neutral-600 text-sm">ì§„í–‰ì¤‘</p>
          </div>
        </div>
        <span class="text-neutral-800 font-bold text-xl">{{ todayQuests.length }}</span>
      </div>

      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <span class="text-2xl mr-3">â­</span>
          <div>
            <p class="text-neutral-800 font-medium">ê²½í—˜ì¹˜</p>
            <p class="text-neutral-600 text-sm">ì´ íšë“</p>
          </div>
        </div>
        <span class="text-neutral-800 font-bold text-xl">{{ (level - 1) * 100 + experience }}</span>
      </div>

      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <span class="text-2xl mr-3">ğŸ†</span>
          <div>
            <p class="text-neutral-800 font-medium">ìµœê³  ì—°ì†</p>
            <p class="text-neutral-600 text-sm">ë‹¬ì„± ê¸°ë¡</p>
          </div>
        </div>
        <span class="text-neutral-800 font-bold text-xl">{{ Math.max(streakCount, totalCompleted > 0 ? 1 : 0) }}</span>
      </div>
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useQuestStore } from '../../stores/quest'

const questStore = useQuestStore()
const completionRate = computed(() => questStore.completionRate)
const todayQuests = computed(() => questStore.todayQuests)
const level = computed(() => questStore.level)
const experience = computed(() => questStore.experience)
const streakCount = computed(() => questStore.streakCount)
const totalCompleted = computed(() => questStore.totalCompleted)
</script>